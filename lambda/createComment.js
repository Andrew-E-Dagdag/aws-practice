"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
async function default_1(dynamo, id, comment, author) {
    var _a;
    const args = {
        TableName: (_a = process.env.GUEST_TABLE_NAME) !== null && _a !== void 0 ? _a : 'AndrewGuestBookV2-AndrewCommentTable12286926-MD8S3XK9EX3Q',
        Item: {
            id: {
                S: id
            },
            DateCreated: {
                S: new Date().toISOString()
            },
            CommentString: {
                S: comment
            }
        }
    };
    if (author) {
        args.Item.CommentAuthor = { S: author };
    }
    await dynamo
        .putItem(args)
        .promise();
    return 'Successfully added new comment!';
}
exports.default = default_1;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY3JlYXRlQ29tbWVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbImNyZWF0ZUNvbW1lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFFZSxLQUFLLG9CQUNoQixNQUFjLEVBQ2QsRUFBVSxFQUNWLE9BQWUsRUFDZixNQUFjOztJQUVkLE1BQU0sSUFBSSxHQUFlO1FBQ3JCLFNBQVMsUUFBRSxPQUFPLENBQUMsR0FBRyxDQUFDLGdCQUFnQixtQ0FBSSwyREFBMkQ7UUFDdEcsSUFBSSxFQUFFO1lBQ0YsRUFBRSxFQUFFO2dCQUNBLENBQUMsRUFBRSxFQUFFO2FBQ1I7WUFDRCxXQUFXLEVBQUU7Z0JBQ1QsQ0FBQyxFQUFFLElBQUksSUFBSSxFQUFFLENBQUMsV0FBVyxFQUFFO2FBQzlCO1lBQ0QsYUFBYSxFQUFFO2dCQUNYLENBQUMsRUFBRSxPQUFPO2FBQ2I7U0FDSjtLQUNKLENBQUM7SUFFRixJQUFJLE1BQU0sRUFBRTtRQUNSLElBQUksQ0FBQyxJQUFJLENBQUMsYUFBYSxHQUFHLEVBQUUsQ0FBQyxFQUFFLE1BQU0sRUFBRSxDQUFBO0tBQzFDO0lBRUQsTUFBTSxNQUFNO1NBQ1AsT0FBTyxDQUFDLElBQUksQ0FBQztTQUNiLE9BQU8sRUFBRSxDQUFDO0lBRWYsT0FBTyxpQ0FBaUMsQ0FBQztBQUM3QyxDQUFDO0FBOUJELDRCQThCQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IER5bmFtbywgbmV3Q29tbWVudCB9IGZyb20gJy4vdHlwZXMnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24oXHJcbiAgICBkeW5hbW86IER5bmFtbyxcclxuICAgIGlkOiBzdHJpbmcsIFxyXG4gICAgY29tbWVudDogc3RyaW5nLCBcclxuICAgIGF1dGhvcjogc3RyaW5nXHJcbik6IFByb21pc2U8U3RyaW5nPiB7XHJcbiAgICBjb25zdCBhcmdzOiBuZXdDb21tZW50ID0ge1xyXG4gICAgICAgIFRhYmxlTmFtZTogcHJvY2Vzcy5lbnYuR1VFU1RfVEFCTEVfTkFNRSA/PyAnQW5kcmV3R3Vlc3RCb29rVjItQW5kcmV3Q29tbWVudFRhYmxlMTIyODY5MjYtTUQ4UzNYSzlFWDNRJyxcclxuICAgICAgICBJdGVtOiB7XHJcbiAgICAgICAgICAgIGlkOiB7XHJcbiAgICAgICAgICAgICAgICBTOiBpZFxyXG4gICAgICAgICAgICB9LCBcclxuICAgICAgICAgICAgRGF0ZUNyZWF0ZWQ6IHtcclxuICAgICAgICAgICAgICAgIFM6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxyXG4gICAgICAgICAgICB9LCBcclxuICAgICAgICAgICAgQ29tbWVudFN0cmluZzoge1xyXG4gICAgICAgICAgICAgICAgUzogY29tbWVudFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBpZiAoYXV0aG9yKSB7XHJcbiAgICAgICAgYXJncy5JdGVtLkNvbW1lbnRBdXRob3IgPSB7IFM6IGF1dGhvciB9XHJcbiAgICB9XHJcblxyXG4gICAgYXdhaXQgZHluYW1vXHJcbiAgICAgICAgLnB1dEl0ZW0oYXJncylcclxuICAgICAgICAucHJvbWlzZSgpO1xyXG4gICAgXHJcbiAgICByZXR1cm4gJ1N1Y2Nlc3NmdWxseSBhZGRlZCBuZXcgY29tbWVudCEnO1xyXG59XHJcbiJdfQ==